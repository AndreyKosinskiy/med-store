 {% extends "base.html" %}
 
 {% block report%}
 <div class = "row justify-content-md-center align-items-center" style="height: 39em;">
    <div class = "col-md-4 text-center border-primary">
      <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      {{ form.non_field_errors }}
      <div class="form-group date">
        {{form.store}}
        <div class="input-group" id="datetimepicker1" data-target-input="nearest">
          {{form.start_date}}
           <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
              <div class="input-group-text"><i class="fa fa-calendar"></i></div>
            </div>
        </div>
        <div class="input-group date" id="datetimepicker2" data-target-input="nearest">
          {{form.end_date}}
          <div class="input-group-append" data-target="#datetimepicker2" data-toggle="datetimepicker">
            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
          </div>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
           <label class="form-check-label" for="defaultCheck1">
            Open?
          </label>
        </div>
      </div>
   <button type="submit" class="btn btn-success">Report</button>
  </form>
    </div>
 </div>
      <script>
  $(function () {
    $('#datetimepicker1').datetimepicker({
      format: 'DD/MM/YYYY'
    });
    $('#datetimepicker2').datetimepicker({
      format: 'DD/MM/YYYY',
      useCurrent: false
    });
    $("#datetimepicker1").on("change.datetimepicker", function (e) {
            $('#datetimepicker2').datetimepicker('minDate', e.date);
        });
    $("#datetimepicker2").on("change.datetimepicker", function (e) {
        $('#datetimepicker1').datetimepicker('maxDate', e.date);
    });

    $("#defaultCheck1").change(function(){
        console.log("#defaultCheck1")
        if ($("#defaultCheck1").prop('checked')){
          $("#{{form.end_date.id_for_label}}").removeAttr("disabled")
        }else{
          $("#{{form.end_date.id_for_label}}").attr( "disabled","true")
          $('#datetimepicker2').data("")
        }
    })

  });
</script>
 {% endblock %}